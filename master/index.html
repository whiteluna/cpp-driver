

<!DOCTYPE html>
<html class="no-js" lang="en">
    
    

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>
             C/C++ Driver for ScyllaDB | ScyllaDB Docs 
        </title>
        <meta name="description" content="ScyllaDB is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server." />
        <link rel="icon" href="_static/img/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="_static/img/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" href="_static/img/favicon-228x228.png" sizes="192x192" />
        <link rel="apple-touch-icon" href="_static/img/favicon-228x228.png" />
        <meta name="msapplication-TileImage" href="_static/img/favicon-228x228.png" />

        
            
        

        
            
            <link rel="canonical" href="https://cpp-driver.docs.scylladb.com/master/"/>
        

        <link rel="author" href="mailto:info@scylladb.com" />

        
            
        <!-- increase expertrec loading priority-->
        <link rel="dns-prefetch" href="https://cse.expertrec.com">

        <!-- increase font loading priority -->
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="preload" as="style"
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- async CSS -->
        <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');"
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- no-JS fallback -->
        <noscript>
            <link rel="stylesheet"
                href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />
        </noscript>
        
            
                <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
            
        
            
                <link rel="stylesheet" type="text/css" href="_static/css/main.css" />
            
        
            
                <link rel="stylesheet" type="text/css" href="_static/sphinx_collapse.css" />
            
        
            
                <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
            
        
    
        
        
            

        <script type="text/javascript" id="documentation_options" data-url_root="./"
            src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/js/runtime.bundle.js"></script>
        <script type="text/javascript" src="_static/js/main.bundle.js"></script>
        
            
                <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
            
        
            
        
            
                <script src="_static/underscore.js"></script>
            
        
            
                <script src="_static/doctools.js"></script>
            
        
            
                <script src="_static/clipboard.min.js"></script>
            
        
            
                <script src="_static/copybutton.js"></script>
            
        
    
            <!- Zendesk tag -->
<meta name='zd-site-verification' content='gq6ltsh3nfex3cnwfy4aj9' />
<!-- Google Tag Manager -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-T8P2JP");
</script>
<!-- End Google Tag Manager -->

<!-- Expertrec -->
<script>
    var id = "e2077224-9ccf-11e9-a0c9-0242ac130002";
    var ci_search = document.createElement("script");
    ci_search.type = "text/javascript";
    ci_search.async = true;
    ci_search.src = "https://cse.expertrec.com/api/js/ci_common.js?id=" + id;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ci_search, s);
</script>
<!-- End Expertrec -->
        
        <!-- Font Awesome -->
        <script src="https://kit.fontawesome.com/b1870adf6a.js" crossorigin="anonymous"></script>
        <!-- End Font Awesome -->
    </head>

    <body>
        
        <header class="header">
    <div class="header-logo">
        <a class="header-logo__img" href="https://scylladb.com/">
            <img src="_static/img/logo-docs.svg" alt="ScyllaDB Documentation Logo" />
        </a>
        <span class="header-logo__bar"></span>
        <a class="header-logo__text" href="https://docs.scylladb.com/">
            Documentation
        </a>
    </div>
    <div class="header-navigation">
        <ul class="dropdown menu scylla-dropdown scylla-dropdown--header" data-dropdown-menu>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Server
                    <i class="chevron scylla-icon scylla-icon--triangle-down"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/">
                            <i class="scylla-icon scylla-icon--about-us"></i>
                            ScyllaDB Open Source
                        </a>
                    </li>
                    <li>
                        <a href="https://enterprise.docs.scylladb.com/">
                            <i class="scylla-icon scylla-icon--enterprise"></i>ScyllaDB Enterprise
                        </a>
                    </li>
                    <li>
                        <a href="https://scylla.docs.scylladb.com/stable/alternator/alternator.html">
                            <i class="scylla-icon scylla-icon--overview"></i>
                            ScyllaDB Alternator
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="https://docs.scylladb.com/scylla-cloud/" class="scylla-dropdown__title">Cloud</a>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Tools <i
                    class="chevron scylla-icon scylla-icon--triangle-down"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://manager.docs.scylladb.com/">
                            <i class="scylla-icon scylla-icon--manager"></i>ScyllaDB Manager</a>
                    </li>
                    <li>
                        <a href="https://monitoring.docs.scylladb.com/">
                            <i class="scylla-icon scylla-icon--monitoring"></i>ScyllaDB
                            Monitoring Stack</a>
                    </li>
                    <li>
                        <a href="https://operator.docs.scylladb.com/">
                            <i class="scylla-icon scylla-icon--operator"></i>ScyllaDB Operator
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Drivers <i
                    class="chevron scylla-icon scylla-icon--triangle-down"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/using-scylla/drivers/cql-drivers/">
                            <i class="scylla-icon scylla-icon--nsql-guides"></i>CQL Drivers
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/using-scylla/drivers/dynamo-drivers/">
                            <i class="scylla-icon scylla-icon--overview"></i>DynamoDB Drivers
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="header-button">
            <a href="https://www.scylladb.com/download/" class="button">Download</a>
        </div>
    </div>
    <div class="header-search-box">
        <div class="search-box">
            <ci-search></ci-search>
        </div>
    </div>
    <div class="side-nav-toggle" data-toggle="side-nav">
    <div class="side-nav-toggle__button">
        <img src="_static/img/menu.svg" alt="Menu" />
    </div>
</div>
</header>
        <section
            class="layout  layout--sidebar layout--has-secondary-sidebar ">
            <div class="content large-order-2">
                
                    
                
                
                    <div class="pre-content">
                        <div class="breadcrumbs">
    <span class="bread__item">
        <a href="https://docs.scylladb.com"
            class="bread__highlight">
            <i class="fas fa-home"></i> ScyllaDB Docs
        </a>
    </span>
    <span class="bread__item">
        <a href="https://cpp-driver.docs.scylladb.com"
            class="bread__highlight">
            Scylla C/C++ Driver Documentation
        </a>
    </span>
    
    <span class="bread__item bread__item--last">C/C++ Driver for ScyllaDB</span>
</div>
                    </div>
                
                <section id="c-c-driver-for-scylladb">
<h1>C/C++ Driver for ScyllaDB<a class="headerlink" href="#c-c-driver-for-scylladb" title="Permalink to this headline">¶</a></h1>
<p>A modern, feature-rich and <strong>shard-aware</strong> C/C++ client library for
<a class="reference external" href="http://scylladb.com">ScyllaDB</a> using exclusively Cassandra’s binary protocol and
Cassandra Query Language v3. Forked from Datastax <code class="docutils literal notranslate"><span class="pre">cpp-driver</span></code>.</p>
<section id="getting-the-driver">
<h2>Getting the Driver<a class="headerlink" href="#getting-the-driver" title="Permalink to this headline">¶</a></h2>
<p>Currently we support CentOS 7, Ubuntu 18.04 and their relatives. On these
platforms <a class="reference external" href="topics/">Installation</a> from packages is recommended. For other systems
(or hacking) we recommend to build the driver from sources.</p>
<p>Our releases use the versions of libuv, OpenSSL and zlib provided with the
distribution/EPEL.</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="topics/scylla_specific/">Shard-Awareness</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics#futures">Asynchronous API</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics#executing-queries">Simple</a>, <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/basics/prepared_statements">Prepared</a>, and <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/basics/batches">Batch</a> statements</p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics#asynchronous-i-o">Asynchronous I/O</a>, <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics#thread-safety">parallel execution</a>, and request pipelining</p></li>
<li><p>Connection pooling</p></li>
<li><p>Automatic node discovery</p></li>
<li><p>Automatic reconnection</p></li>
<li><p>Configurable <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration#load-balancing">load balancing</a></p></li>
<li><p>Works with any cluster size</p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/security#authentication">Authentication</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/security/ssl">SSL</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration#latency-aware-routing">Latency-aware routing</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/metrics">Performance metrics</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/basics/tuples">Tuples</a> and <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/basics/user_defined_types">UDTs</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/basics/binding_parameters#nested-collections">Nested collections</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration/retry_policies">Retry policies</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/basics/client_side_timestamps">Client-side timestamps</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/basics/data_types">Data types</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration#connection-heartbeats">Idle connection heartbeats</a></p></li>
<li><p>Support for materialized view and secondary index metadata</p></li>
<li><p>Support for clustering key order, <code class="docutils literal notranslate"><span class="pre">frozen&lt;&gt;</span></code> and Cassandra version metadata</p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration#blacklist">Blacklist</a>, <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration#datacenter">whitelist DC</a>, and <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration#datacenter">blacklist DC</a> load balancing policies</p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/security#custom">Custom</a> authenticators</p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/security/ssl#enabling-cassandra-identity-verification">Reverse DNS</a> with SSL peer identity verification support</p></li>
<li><p>Randomized contact points</p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/configuration#speculative-execution">Speculative execution</a></p></li>
</ul>
</section>
<section id="compatibility">
<h2>Compatibility<a class="headerlink" href="#compatibility" title="Permalink to this headline">¶</a></h2>
<p>This driver works exclusively with the Cassandra Query Language v3 (CQL3) and
Cassandra’s native protocol. The current version works with:</p>
<ul class="simple">
<li><p>Scylla and Scylla Enterprise</p></li>
<li><p>Apache Cassandra® versions 2.1, 2.2 and 3.0+</p></li>
<li><p>Architectures: 32-bit (x86) and 64-bit (x64)</p></li>
<li><p>C++-11-conforming compilers</p></li>
</ul>
<p><strong>Disclaimer</strong>: cpp-driver does not support big-endian platforms.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master">Home</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/api">API</a></p></li>
<li><p><a class="reference external" href="https://university.scylladb.com/courses/using-scylla-drivers/lessons/cpp-driver-part-1/">Getting Started</a></p></li>
<li><p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/topics/building">Building</a></p></li>
</ul>
</section>
<section id="training">
<h2>Training<a class="headerlink" href="#training" title="Permalink to this headline">¶</a></h2>
<p>The course <a class="reference external" href="https://university.scylladb.com/courses/using-scylla-drivers/">Using Scylla Drivers</a> in Scylla University explains how to use drivers in different languages to interact with a Scylla cluster. The lesson, <a class="reference external" href="https://university.scylladb.com/courses/using-scylla-drivers/lessons/cpp-driver-part-1/">CPP Driver - Part 1</a>, goes over a sample application that, using the CPP driver, interacts with a three-node Scylla cluster. It connects to a Scylla cluster, displays the contents of a table, inserts and deletes data, and shows the contents of the table after each action. <a class="reference external" href="https://university.scylladb.com/">Scylla University</a> includes other training material and online courses which will help you become a Scylla NoSQL database expert.</p>
</section>
<section id="getting-help">
<h2>Getting Help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Slack: http://slack.scylladb.com/</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Issues</span></code> section of this repository</p></li>
</ul>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The driver includes several examples in the <a class="reference external" href="https://github.com/scylladb/cpp-driver/tree/master/examples">examples</a> directory.</p>
</section>
<section id="a-simple-example">
<h2>A Simple Example<a class="headerlink" href="#a-simple-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;cassandra.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="cm">/* Setup and connect to cluster */</span>
  <span class="n">CassFuture</span><span class="o">*</span> <span class="n">connect_future</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="n">CassCluster</span><span class="o">*</span> <span class="n">cluster</span> <span class="o">=</span> <span class="n">cass_cluster_new</span><span class="p">();</span>
  <span class="n">CassSession</span><span class="o">*</span> <span class="n">session</span> <span class="o">=</span> <span class="n">cass_session_new</span><span class="p">();</span>
  <span class="kt">char</span><span class="o">*</span> <span class="n">hosts</span> <span class="o">=</span> <span class="s">&quot;127.0.0.1&quot;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">hosts</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="cm">/* Add contact points */</span>
  <span class="n">cass_cluster_set_contact_points</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">hosts</span><span class="p">);</span>

  <span class="cm">/* Provide the cluster object as configuration to connect the session */</span>
  <span class="n">connect_future</span> <span class="o">=</span> <span class="n">cass_session_connect</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">cluster</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">cass_future_error_code</span><span class="p">(</span><span class="n">connect_future</span><span class="p">)</span> <span class="o">==</span> <span class="n">CASS_OK</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">CassFuture</span><span class="o">*</span> <span class="n">close_future</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

    <span class="cm">/* Build statement and execute query */</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">query</span> <span class="o">=</span> <span class="s">&quot;SELECT release_version FROM system.local&quot;</span><span class="p">;</span>
    <span class="n">CassStatement</span><span class="o">*</span> <span class="n">statement</span> <span class="o">=</span> <span class="n">cass_statement_new</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="n">CassFuture</span><span class="o">*</span> <span class="n">result_future</span> <span class="o">=</span> <span class="n">cass_session_execute</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">statement</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">cass_future_error_code</span><span class="p">(</span><span class="n">result_future</span><span class="p">)</span> <span class="o">==</span> <span class="n">CASS_OK</span><span class="p">)</span> <span class="p">{</span>
      <span class="cm">/* Retrieve result set and get the first row */</span>
      <span class="k">const</span> <span class="n">CassResult</span><span class="o">*</span> <span class="n">result</span> <span class="o">=</span> <span class="n">cass_future_get_result</span><span class="p">(</span><span class="n">result_future</span><span class="p">);</span>
      <span class="k">const</span> <span class="n">CassRow</span><span class="o">*</span> <span class="n">row</span> <span class="o">=</span> <span class="n">cass_result_first_row</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">const</span> <span class="n">CassValue</span><span class="o">*</span> <span class="n">value</span> <span class="o">=</span> <span class="n">cass_row_get_column_by_name</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s">&quot;release_version&quot;</span><span class="p">);</span>

        <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">release_version</span><span class="p">;</span>
        <span class="kt">size_t</span> <span class="n">release_version_length</span><span class="p">;</span>
        <span class="n">cass_value_get_string</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">release_version</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">release_version_length</span><span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;release_version: &#39;%.*s&#39;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">release_version_length</span><span class="p">,</span> <span class="n">release_version</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="n">cass_result_free</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="cm">/* Handle error */</span>
      <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">message</span><span class="p">;</span>
      <span class="kt">size_t</span> <span class="n">message_length</span><span class="p">;</span>
      <span class="n">cass_future_error_message</span><span class="p">(</span><span class="n">result_future</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">message_length</span><span class="p">);</span>
      <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Unable to run query: &#39;%.*s&#39;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">message_length</span><span class="p">,</span> <span class="n">message</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">cass_statement_free</span><span class="p">(</span><span class="n">statement</span><span class="p">);</span>
    <span class="n">cass_future_free</span><span class="p">(</span><span class="n">result_future</span><span class="p">);</span>

    <span class="cm">/* Close the session */</span>
    <span class="n">close_future</span> <span class="o">=</span> <span class="n">cass_session_close</span><span class="p">(</span><span class="n">session</span><span class="p">);</span>
    <span class="n">cass_future_wait</span><span class="p">(</span><span class="n">close_future</span><span class="p">);</span>
    <span class="n">cass_future_free</span><span class="p">(</span><span class="n">close_future</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="cm">/* Handle error */</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">message</span><span class="p">;</span>
    <span class="kt">size_t</span> <span class="n">message_length</span><span class="p">;</span>
    <span class="n">cass_future_error_message</span><span class="p">(</span><span class="n">connect_future</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">message_length</span><span class="p">);</span>
    <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Unable to connect: &#39;%.*s&#39;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">message_length</span><span class="p">,</span> <span class="n">message</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">cass_future_free</span><span class="p">(</span><span class="n">connect_future</span><span class="p">);</span>
  <span class="n">cass_cluster_free</span><span class="p">(</span><span class="n">cluster</span><span class="p">);</span>
  <span class="n">cass_session_free</span><span class="p">(</span><span class="n">session</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>This project includes a number of unit tests and an integration test suite. To run the integration tests against Scylla some prerequisites must be met:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scylla-ccm</span></code> cloned and installed system-wide</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scylla-jmx</span></code> cloned alongside <code class="docutils literal notranslate"><span class="pre">scylla-ccm</span></code> and built</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scylla-tools-java</span></code> cloned, built and symlinked from <code class="docutils literal notranslate"><span class="pre">[SCYLLA_ROOT]/resources/cassandra</span></code></p></li>
</ul>
<p>Building the integration tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">DCASS_BUILD_INTEGRATION_TESTS</span><span class="o">=</span><span class="n">ON</span> <span class="o">..</span> <span class="o">&amp;&amp;</span> <span class="n">make</span>
</pre></div>
</div>
<p>Certain test cases require features that are unavailable in OSS Scylla, or fail for other non-critical reasons, and thus need to be disabled for now. Assuming that <code class="docutils literal notranslate"><span class="pre">scylla</span></code> is built in the release mode, the command line may look as below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">cassandra</span><span class="o">-</span><span class="n">integration</span><span class="o">-</span><span class="n">tests</span> <span class="o">--</span><span class="n">install</span><span class="o">-</span><span class="nb">dir</span><span class="o">=</span><span class="p">[</span><span class="n">SCYLLA_ROOT</span><span class="p">]</span> <span class="o">--</span><span class="n">version</span><span class="o">=</span><span class="mf">3.0</span><span class="o">.</span><span class="mi">8</span> <span class="o">--</span><span class="n">category</span><span class="o">=</span><span class="n">CASSANDRA</span> <span class="o">--</span><span class="n">verbose</span><span class="o">=</span><span class="n">ccm</span> <span class="o">--</span><span class="n">gtest_filter</span><span class="o">=-</span><span class="n">AuthenticationTests</span><span class="o">*</span><span class="p">:</span><span class="n">ConsistencyTwoNodeClusterTests</span><span class="o">.</span><span class="n">Integration_Cassandra_SimpleEachQuorum</span><span class="p">:</span><span class="n">ControlConnectionTests</span><span class="o">.</span><span class="n">Integration_Cassandra_TopologyChange</span><span class="p">:</span><span class="n">ControlConnectionTwoNodeClusterTests</span><span class="o">.</span><span class="n">Integration_Cassandra_Reconnection</span><span class="p">:</span><span class="n">CustomPayloadTests</span><span class="o">*</span><span class="p">:</span><span class="n">DbaasTests</span><span class="o">*</span><span class="p">:</span><span class="n">DcAwarePolicyTest</span><span class="o">.</span><span class="n">Integration_Cassandra_UsedHostsRemoteDc</span><span class="p">:</span><span class="n">ExecutionProfileTest</span><span class="o">.</span><span class="n">Integration_Cassandra_RequestTimeout</span><span class="p">:</span><span class="n">ExecutionProfileTest</span><span class="o">.</span><span class="n">Integration_Cassandra_SpeculativeExecutionPolicy</span><span class="p">:</span><span class="n">MetricsTests</span><span class="o">.</span><span class="n">Integration_Cassandra_SpeculativeExecutionRequests</span><span class="p">:</span><span class="n">MetricsTests</span><span class="o">.</span><span class="n">Integration_Cassandra_StatsConnections</span><span class="p">:</span><span class="n">PreparedTests</span><span class="o">.</span><span class="n">Integration_Cassandra_PreparedIDUnchangedDuringReprepare</span><span class="p">:</span><span class="n">ServerSideFailureTests</span><span class="o">.</span><span class="n">Integration_Cassandra_Warning</span><span class="p">:</span><span class="n">ServerSideFailureTests</span><span class="o">.</span><span class="n">Integration_Cassandra_ErrorFunctionFailure</span><span class="p">:</span><span class="n">ServerSideFailureTests</span><span class="o">.</span><span class="n">Integration_Cassandra_ErrorFunctionAlreadyExists</span><span class="p">:</span><span class="n">SessionTest</span><span class="o">.</span><span class="n">Integration_Cassandra_ExternalHostListener</span><span class="p">:</span><span class="n">SchemaMetadataTest</span><span class="o">*</span><span class="p">:</span><span class="n">SchemaNullStringApiArgsTest</span><span class="o">*</span><span class="p">:</span><span class="n">SpeculativeExecutionTests</span><span class="o">*</span><span class="p">:</span><span class="n">SslTests</span><span class="o">*</span><span class="p">:</span><span class="n">SslClientAuthenticationTests</span><span class="o">*</span>
</pre></div>
</div>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>© DataStax, Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at</p>
<p>http://www.apache.org/licenses/LICENSE-2.0</p>
<p>Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.</p>
<p>Modified by ScyllaDB © 2020</p>
</section>
</section>

                
                    <div class="post-content">
                        <div class="content-navigation">
    <div class="navigation navigation--prev">
        
            <a class="navigation__link" href="contents.html">
                <button class="navigation__button">
                    <i class="scylla-icon scylla-icon--chevron-left"></i>
                </button>
                <div class="navigation__title">
                    <span class="colored">PREVIOUS</span> <br />Contents
                </div>
            </a>
        
    </div>
    <div class="navigation navigation--next">
        
            <a class="navigation__link" href="api/index.html">
                <div class="navigation__title">
                    <span class="colored">NEXT</span> <br />API Documentation
                </div>
                <button class="navigation__button">
                    <i class="scylla-icon scylla-icon--chevron-right"></i>
                </button>
            </a>
        
    </div>
</div>
                        <!-- Post content text -->
                    </div>
                
            </div>
            <div class="sidebar-left  large-order-1">
                
                    
                        <div id="side-nav" class="side-nav custom-scroll-bar" data-closable data-toggler=".show">
    <button class="collapsible-button">
        <i class="scylla-icon scylla-icon--chevron-left"></i>
    </button>
    <div class="side-nav-content">
        <div class="side-nav__search">
            <div class="search-box">
                <ci-search></ci-search>
            </div>
        </div>
        <div class="side-nav__title">
            Scylla C/C++ Driver Documentation
        </div>
        <div class="side-nav__versions"><ul class="dropdown menu scylla-dropdown scylla-dropdown--versions" data-dropdown-menu>
    <li class="scylla-dropdown__item">
        <a class="scylla-dropdown__title" href="#">
            
                master
            
            <i class="chevron scylla-icon scylla-icon--chevron-right"></i>
        </a>
        <ul class="menu scylla-dropdown__content">
            
                
                    <li>
                        <a href="index.html">master</a>
                    </li>
                
            
            
        </ul>
    </li>
</ul></div>
        <div class="side-nav__content">
            <ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">C/C++ Driver for ScyllaDB</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="scylla-icon scylla-icon--expand"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassAggregateMeta.html">CassAggregateMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassAuthenticator.html">CassAuthenticator</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassAuthenticatorCallbacks.html">CassAuthenticatorCallbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassBatch.html">CassBatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassCluster.html">CassCluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassCollection.html">CassCollection</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassColumnMeta.html">CassColumnMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassCustomPayload.html">CassCustomPayload</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassDataType.html">CassDataType</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassErrorResult.html">CassErrorResult</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassExecProfile.html">CassExecProfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassFunctionMeta.html">CassFunctionMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassFuture.html">CassFuture</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassIndexMeta.html">CassIndexMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassInet.html">CassInet</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassIterator.html">CassIterator</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassKeyspaceMeta.html">CassKeyspaceMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassLogMessage.html">CassLogMessage</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassMaterializedViewMeta.html">CassMaterializedViewMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassMetrics.html">CassMetrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassNode.html">CassNode</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassPrepared.html">CassPrepared</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassResult.html">CassResult</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassRetryPolicy.html">CassRetryPolicy</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassRow.html">CassRow</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassSchemaMeta.html">CassSchemaMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassSession.html">CassSession</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassSpeculativeExecutionMetrics.html">CassSpeculativeExecutionMetrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassSsl.html">CassSsl</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassStatement.html">CassStatement</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassTableMeta.html">CassTableMeta</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassTimestampGen.html">CassTimestampGen</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassTuple.html">CassTuple</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassUserType.html">CassUserType</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassUuid.html">CassUuid</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassUuidGen.html">CassUuidGen</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassValue.html">CassValue</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.CassVersion.html">CassVersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.DseDateRange.html">DseDateRange</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.DseDateRangeBound.html">DseDateRangeBound</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.DseLineString.html">DseLineString</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.DseLineStringIterator.html">DseLineStringIterator</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.DsePolygon.html">DsePolygon</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/struct.DsePolygonIterator.html">DsePolygonIterator</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="topics/index.html">Features</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="scylla-icon scylla-icon--expand"></i></label><div class="break"></div><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="topics/basics/index.html">Basics</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="scylla-icon scylla-icon--expand"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/batches/index.html">Batches</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/binding_parameters/index.html">Binding Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/client_side_timestamps/index.html">Client-side timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/consistency/index.html">Consistency</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/data_types/index.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/date_and_time/index.html">The <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">time</span></code> Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/futures/index.html">Futures</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/handling_results/index.html">Handling Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/keyspaces/index.html">Keyspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/prepared_statements/index.html">Prepared Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/schema_metadata/index.html">Schema Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/tuples/index.html">Tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/user_defined_types/index.html">User-Defined Types (UDTs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/basics/uuids/index.html">UUIDs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="topics/building/index.html">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/client_configuration/index.html">Client Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/cloud/index.html">Cloud</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="topics/configuration/index.html">Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="scylla-icon scylla-icon--expand"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/configuration/retry_policies/index.html">Retry policies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="topics/execution_profiles/index.html">Execution Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/faq/index.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/installation/index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/metrics/index.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/scylla_specific/index.html">Scylla Specific Features</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="topics/security/index.html">Security</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="scylla-icon scylla-icon--expand"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/security/ssl/index.html">SSL</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="topics/testing/index.html">Testing</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="scylla-icon scylla-icon--expand"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/testing/ccm/index.html">Cassandra Cluster Manager (CCM)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="topics/tracing/index.html">Tracing</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="topics/dse_features/index.html">DSE Features</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="scylla-icon scylla-icon--expand"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="topics/dse_features/authentication/index.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics/dse_features/geotypes/index.html">Geospatial types</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
</div>
                    
                
            </div>
            
                <div class="sidebar-right large-order-3">
                    <div class="secondary-side-nav custom-scroll-bar">
    
    <ul class="contribute">
        <li class="contribute__item">
            <a href="https://github.com/scylladb/cpp-driver/issues/new?title=docs:%20Issue in page C/C++ Driver for ScyllaDB&&body=I%20would%20like%20to%20report%20an%20issue%20in%20page%20https://cpp-driver.docs.scylladb.com/master/index%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation"
                target="_blank">
                <i class="icon fab fa-github" aria-hidden="true"></i>Create an issue
            </a>
        </li>
        
            <li class="contribute__item">
                <a href="https://github.com/scylladb/cpp-driver/edit/master/docs/source/index.md"
                    target="_blank">
                    <i class="icon fa fa-edit" aria-hidden="true"></i>Edit this page
                </a>
            </li>
        
    </ul>

    
        <div class="secondary-side-nav__content">
            <p class="topic-title">On this page</p>
            <ul>
<li><a class="reference internal" href="#">C/C++ Driver for ScyllaDB</a><ul>
<li><a class="reference internal" href="#getting-the-driver">Getting the Driver</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#compatibility">Compatibility</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#training">Training</a></li>
<li><a class="reference internal" href="#getting-help">Getting Help</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#a-simple-example">A Simple Example</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
</ul>

        </div>
    
</div>
                </div>
            
        </section>

        <footer class="footer">
    <div class="footer-group">
        <div class="footer-top">
            <a class="footer-logo" href="https://www.scylladb.com">
                <img src="_static/img/logo-scylla-horizontal-RGB.svg" alt="Logo" />
            </a>
            <div class="footer-links">
                <a class="footer-links__link" href="https://docs.scylladb.com/">Docs</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/contact-us/">Contact Us</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/">About Us</a>
            </div>
            <div class="footer-actions">
                <a class="footer-actions__link" href="https://groups.google.com/g/scylladb-users" target="_blank">
                    <span data-tooltip tabindex="1" title="User mailing list" data-position="bottom">
                        <img src="_static/img/icons/icon-mail-list.svg" alt="Mail List Icon" />
                    </span>
                </a>
                <a class="footer-actions__link" href="http://slack.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="User Slack channel" data-position="bottom">
                        <img src="_static/img/icons/icon-slack.svg" alt="Slack Icon" />
                    </span>
                </a>
                <a class="footer-actions__link" href="https://forum.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="Community forum" data-position="bottom">
                        <img src="_static/img/icons/icon-forum.svg" alt="Forum Icon" />
                    </span>
                </a>
            </div>
        </div>

        <div class="footer-bottom">
            
                <div class="footer-bottom__copyright">
                    
                        
                            &#169; 2023, ScyllaDB. All rights reserved.
                        
                    
                </div>
            
            
                <div class="footer-bottom__last-updated">
                    
                        Last updated on 05 May 2023.
                    
                </div>
            
            <div class="footer-bottom__version">
                Powered by
                <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a> &amp;
                <a href="https://sphinx-theme.scylladb.com/">ScyllaDB Theme 1.3.5</a>
            </div>
        </div>
    </div>
</footer>

        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP" height="0" width="0"
                style="display: none; visibility: hidden"></iframe>
        </noscript>
    </body>

</html>